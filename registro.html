<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <link rel="shortcut icon" href="assets/images/favicon.png" type="image/x-icon">
    <meta name="description"
        content="Regístrate en el Teatro Gran Rex para acceder a beneficios exclusivos, preventas de entradas y ofertas especiales.">

    <title>Teatro Gran Rex: Registro de Usuario</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B5KP0PF26Q"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-B5KP0PF26Q');
    </script>

    <link rel="stylesheet" href="./assets/theme/css/registro.css">

    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Onest:wght@400;700&display=swap" as="style"
        onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Onest:wght@400;700&display=swap">
    </noscript>
</head>

<body>

    <nav class="navbar">
        <div class="container-nav">
            <a class="navbar-brand" href="index.html">
                <img src="assets/images/logo-teatro.png" alt="Logo Teatro Gran Rex">
                <span class="navbar-caption">Teatro Gran Rex</span>
            </a>
            <ul class="nav-dropdown">
                <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
                <li class="nav-item"><a class="nav-link" href="salas.html">Salas</a></li>
                <li class="nav-item"><a class="nav-link" href="cartelera.html">Cartelera</a></li>
            </ul>
            <div class="navbar-buttons">
                <a class="btn btn-registro" href="registro.html">Registrarse</a>
            </div>
        </div>
    </nav>

    <main class="registro-section">
        <div class="container-registro">
            <header class="section-header">
                <h1 class="section-title">Crea tu Cuenta</h1>
                <p class="section-subtitle">Únete a nuestra comunidad teatral y disfruta de beneficios exclusivos.</p>
            </header>

            <div class="form-wrapper">
                <form action="#" method="POST" class="registro-form" id="registroForm"
                    onsubmit="return handleSubmit(event)">

                    <div hidden="hidden" class="alert alert-success" id="successMessage">
                        <strong>¡Registro exitoso!</strong><br>Tu cuenta ha sido creada correctamente.
                    </div>
                    <div hidden="hidden" class="alert alert-danger" id="errorMessage">
                        <strong>Error en el registro</strong><br>Por favor, verifica los campos.
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="nombre">Nombre *</label>
                            <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>
                        </div>
                        <div class="form-group">
                            <label for="apellido">Apellido *</label>
                            <input type="text" id="apellido" name="apellido" placeholder="Tu apellido" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="email">Correo Electrónico *</label>
                            <input type="email" id="email" name="email" placeholder="tu@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="dni">DNI *</label>
                            <input type="text" id="dni" name="dni" placeholder="12345678" pattern="[0-9]{7,8}" required>
                        </div>
                        <div class="form-group">
                            <label for="telefono">Teléfono *</label>
                            <input type="tel" id="telefono" name="telefono" placeholder="(388) 123-4567" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="fechaNacimiento">Fecha de Nacimiento *</label>
                            <input type="date" id="fechaNacimiento" name="fechaNacimiento" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="direccion">Dirección</label>
                            <input type="text" id="direccion" name="direccion" placeholder="Calle y número">
                        </div>
                        <div class="form-group">
                            <label for="ciudad">Ciudad *</label>
                            <input type="text" id="ciudad" name="ciudad" value="San Salvador de Jujuy" required>
                        </div>
                        <div class="form-group">
                            <label for="provincia">Provincia *</label>
                            <select id="provincia" name="provincia" required>
                                <option value="">Seleccionar...</option>
                                <option value="Jujuy" selected>Jujuy</option>
                                <option value="Salta">Salta</option>
                                <option value="Buenos Aires">Buenos Aires</option>
                                <option value="Córdoba">Córdoba</option>
                                <option value="Santa Fe">Santa Fe</option>
                                <option value="Mendoza">Mendoza</option>
                                <option value="Tucumán">Tucumán</option>
                                <option value="Otra">Otra</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="password">Contraseña *</label>
                            <input type="password" id="password" name="password" placeholder="Mínimo 8 caracteres"
                                minlength="8" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword">Confirmar Contraseña *</label>
                            <input type="password" id="confirmPassword" name="confirmPassword"
                                placeholder="Repite tu contraseña" minlength="8" required>
                        </div>
                        <div class="form-group full-width">
                            <label for="intereses">¿Qué tipo de obras prefieres?</label>
                            <select id="intereses" name="intereses">
                                <option value="">Seleccionar...</option>
                                <option value="drama">Drama</option>
                                <option value="comedia">Comedia</option>
                                <option value="musical">Musical</option>
                                <option value="infantil">Teatro Infantil</option>
                                <option value="experimental">Teatro Experimental</option>
                                <option value="todas">Me gusta todo</option>
                            </select>
                        </div>

                        <div class="form-group checkbox-group full-width">
                            <input type="checkbox" id="newsletter" name="newsletter" checked>
                            <label for="newsletter">Deseo recibir información sobre eventos y promociones</label>
                        </div>

                        <div class="form-group checkbox-group full-width">
                            <input type="checkbox" id="terminos" name="terminos" required>
                            <label for="terminos">Acepto los términos y condiciones y la política de privacidad
                                *</label>
                        </div>

                        <div class="form-group full-width action-button">
                            <button type="submit" class="btn btn-submit">
                                Crear Cuenta
                            </button>
                        </div>

                        <div class="form-group full-width login-link">
                            <p>¿Ya tienes una cuenta?
                                <a href="#" onclick="alert('Funcionalidad de inicio de sesión - Demo'); return false;">
                                    Iniciar Sesión
                                </a>
                            </p>
                        </div>

                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container-footer">
            <div class="footer-info">
                <h3>Teatro Gran Rex</h3>
                <p>El corazón cultural de Jujuy desde 1912.</p>
                <p>Dirección: Gran Vía, 78, 28013 Madrid.</p>
                <p>Teléfono: 91 123 456 789 | Email: info@teatrogranrex.es</p>
            </div>
            <p class="copyright">© 2025 Teatro Gran Rex. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        function handleSubmit(event) {
            event.preventDefault();

            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');

            // Ocultar mensajes previos
            errorMessage.hidden = true;
            successMessage.hidden = true;

            // Validar contraseñas
            if (password !== confirmPassword) {
                errorMessage.innerHTML = '<strong>Error en el registro</strong><br>Las contraseñas no coinciden.';
                errorMessage.hidden = false;
                errorMessage.scrollIntoView({ behavior: 'smooth', block: 'start' });
                return false;
            }

            // Validar longitud de contraseña (ya forzado por minlength, pero es buena práctica)
            if (password.length < 8) {
                errorMessage.innerHTML = '<strong>Error en el registro</strong><br>La contraseña debe tener al menos 8 caracteres.';
                errorMessage.hidden = false;
                errorMessage.scrollIntoView({ behavior: 'smooth', block: 'start' });
                return false;
            }

            // Si el formulario pasa la validación del navegador (campos required) y JS
            successMessage.hidden = false;
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Resetear el formulario después del éxito
            document.getElementById('registroForm').reset();

            // En un entorno real, aquí se enviaría la data al servidor (e.g., fetch, axios)
            console.log('Formulario enviado exitosamente (simulación).');

            return false;
        }

        // Validación en tiempo real para feedback inmediato
        document.addEventListener('DOMContentLoaded', function () {
            const password = document.getElementById('password');
            const confirmPassword = document.getElementById('confirmPassword');

            if (confirmPassword) {
                confirmPassword.addEventListener('input', function () {
                    if (password.value && confirmPassword.value && password.value !== confirmPassword.value) {
                        confirmPassword.setCustomValidity('Las contraseñas no coinciden');
                    } else {
                        confirmPassword.setCustomValidity('');
                    }
                });
            }
            if (password) {
                password.addEventListener('input', function () {
                    // Limpia la validación del campo de confirmación al cambiar la primera contraseña
                    confirmPassword.setCustomValidity('');
                });
            }
        });
    </script>
</body>

</html>